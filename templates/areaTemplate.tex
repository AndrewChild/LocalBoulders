%# ------------Macros---------------
%% macro image(filePath, description=None, size='h')
	%% if size == 'f'
		\fullPic{\VAR{filePath}}
	%% else
		\halfPic{\VAR{filePath}}{\VAR{description}}
	%% endif
%% endmacro
%% macro climbLabel(climb)
\label{\VAR{climb.ref}:\VAR{climb.name}}
\colorbox{\VAR{climb.color_LaTeX}}{
\parbox{0.95\linewidth}{
\textbf{
%% if climb.grade_scale == 'Hueco'
\VAR{climb.getRtNum()} \VAR{climb.name}\VAR{climb.name_unconfirmed_LaTeX} V\VAR{climb.grade}\VAR{climb.grade_unconfirmed_LaTeX} \VAR{climb.rating_LaTeX} \VAR{climb.serious_LaTeX}
%% else
\VAR{climb.getRtNum()} \VAR{climb.name}\VAR{climb.name_unconfirmed_LaTeX} \VAR{climb.grade}\VAR{climb.grade_unconfirmed_LaTeX} \VAR{climb.rating_LaTeX} \VAR{climb.serious}
%% endif
}
}
}
%% endmacro
%% macro description(description)
%% if description != ''
\VAR{description}\\
%% endif
%% endmacro
%# ------------Body-----------------
\formatChapter{\VAR{area.name}}
\raggedcolumns
\begin{multicols}{2}
%% for map in area.areaMaps
	\VAR{image(map.path_o+map.outFileName, map.description, map.size)}
%% endfor
%% if area.gps
	\qrcode{\VAR{area.paths['qr_o']}/\VAR{area.name}_qr.png}{http://maps.google.com/maps?q=\VAR{area.gps}}{Navigate to this area}
%% endif
\VAR{description(area.description)}
%% if area.incomplete
\textbf{NOTE: This area is mostly incomplete. Look forward to more information in future revisions of this book or contribute your own knowledge on github.}\\
%% endif
\halfPic{\VAR{area.paths['histogram_o']}/\VAR{area.name}.png}{}

%% for subArea in area.subareas.values()
\newpage
	%% for map in subArea.subAreaMaps
		\VAR{image(map.path_o+map.outFileName, map.description, map.size)}
	%% endfor
	%% if subArea.name
		\section{\VAR{subArea.getSubAreaLtr()} - \VAR{subArea.name}}\label{sa:\VAR{subArea.name}}
	%% endif
	%% if subArea.gps
		\qrcode{\VAR{area.paths['qr_o']}\VAR{subArea.name}_qr.png}{http://maps.google.com/maps?q=\VAR{subArea.gps}}{Navigate to this sub area}
	%% endif
	\VAR{description(subArea.description)}
	
	%% for photo in subArea.photos
		\VAR{image(photo.path+photo.fileName, photo.description, photo.size)}\label{pt:\VAR{photo.name}}
	%% endfor
	
	%% if subArea.formations
		%% for formation in subArea.formations.values()
			%% for topo in formation.topos
				%% if topo.size == 'f'
				\VAR{image(topo.path_o+topo.outFileName, topo.description, topo.size)}
				%% endif
			%% endfor
			\subsection*{\VAR{formation.name}}\label{bf:\VAR{formation.name}}
			\VAR{description(formation.description)}			
			%% if formation.routes
				%% for route in formation.routes.values()
					%% for topo in route.topos
						%% if topo.size == 'h'
						\VAR{image(topo.path_o+topo.outFileName, topo.description, topo.size)}
						%% endif
					%% endfor
					\VAR{climbLabel(route)}
					\begin{adjustwidth}{0.5cm}{}				
					\VAR{route.description}
					%% if not route.hasTopo
						\newline (No Topo) 
					%% endif
					\end{adjustwidth}
					%% if route.variations.values()
						\begin{adjustwidth}{0.5cm}{}				
						\textbf{Variations:} \newline
						%% for variation in route.variations.values()
							%% for topo in variation.topos
								\VAR{image(topo.path_o+topo.outFileName, topo.description, topo.size)}
							%% endfor
							\VAR{climbLabel(variation)}
							\begin{adjustwidth}{0.5cm}{}				
							\VAR{variation.description}
							%% if not variation.hasTopo
								\newline (No Topo) 
							%% endif
							\end{adjustwidth}
						%% endfor
						\end{adjustwidth}
					%% endif
				%% endfor 
			%% endif
			
		%% endfor 
	%% endif
%% endfor


\end{multicols}
\clearpage